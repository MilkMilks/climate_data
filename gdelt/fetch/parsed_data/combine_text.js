//i want to combine the text from the json files into one file
// here is an example: {"id": 5, "date": 20180122173000, "lat": 52.0, "long": 20.0, "URL": "http://www.climatechangenews.com/2018/01/22/polish-police-set-restrict-protest-gather-personal-data-un-climate-talks/", "TEXT": "Draft law worries civil society groups, who say they are already being excluded from the international climate process\n\nBy Chloe Farand for DeSmog UK\n\nParticipants of the next UN climate talks in Poland could be banned from taking part in spontaneous demonstrations and have their personal data collected, stored and used by Polish police without their consent if a draft piece of legislation becomes law.\n\nThe proposed measures are going through Poland\u2019s legislative process as the southern city of Katowice \u2013 located in the country\u2019s coal heartland \u2013 prepares to host the annual UN climate talks this December.\n\nThe draft bill, which sets out specific regulations for this year\u2019s climate talks, known as COP24, was passed by the lower house of the Polish parliament on 10 January. On Friday, the senate passed the bill almost unanimously with only three MPs abstaining.\n\nThe text provides a raft of initiatives to \u201censure safety and public order\u201d. This includes a ban on all spontaneous gatherings in Katowice between 26 November and 16 December, spanning the entire period of the annual UN climate talks.\n\nThe clause suggests that only demonstrations previously registered with the local authority in Katowice will be allowed to go ahead \u2013 effectively preventing environmental activists reacting to events unfolding during talks to stage protests in the city. The ban is not expected to apply to demonstrations organised inside the conference centre, which have to be approved by the conferences\u2019 organising committee.\n\nThe draft bill also allows police to \u201ccollect, obtain, process and use information, including personal data about people registered as participants of the COP24 conference or cooperating with its organisation, without the knowledge and consent of the people involved\u201d. This would include volunteers and people employed to help with the running of the conference.\n\nIn order to register for the talks, participants including government officials, NGOs, business representatives, journalists and members of civil society have to provide the UN with their full name, date of birth, nationality, a copy of their passport or another identification document, the dates they will attend the conference and an email address.\n\nBut the UN\u2019s online registration website states that participants\u2019 identification number, date of birth and name \u201cwill not be made available to anyone outside of the UNFCCC [United Nations Framework Convention on Climate Change]\u201d. So it is unclear exactly how the police will access this information.\n\nLast year, just over 19,000 people attended the climate talks in Bonn and close to 50,000 people attended the talks in Paris in 2015, according to UN data.\n\nThe UNFCCC has not replied to a request for comment at the time of publication.\n\nThe Polish president Andrzej Duda still has to sign the bill in order for it to become law. But one Polish activist, who preferred not to be named, told DeSmog UK it was \u201cvery unlikely\u201d for the bill to be rejected since there had been so little opposition to it in Parliament.\n\nThis year\u2019s climate talks in Poland are due to be pivotal for the successful implementation of the Paris Agreement. Countries are expected to finalise the accord\u2019s rulebook and start the process of a global stocktake to ramp out ambition to reduce emissions.\n\nThe choice of the city of Katowice, which is home to the EU\u2019s largest coal company Polska Grupa G\u00f3rnicza (PGG), has angered some environmental campaigners who denounce Poland\u2019s reluctance to fully engage in the UN process while still being influenced by a strong domestic coal industry.\n\nHoda Baraka, from 350.org, called the draft bill \u201ca worrying development\u201d but added it was \u201cnot unexpected or unplanned for\u201d. She told DeSmog UK that the pending decision was \u201ca step in the wrong direction\u201d at a time when \u201ccivil society groups are increasingly squeezed out of the UNFCCC process and their rights are infringed\u201d.\n\nShe added: \u201cIn many of the countries that groups like 350.org operate, ongoing restrictions on civil society, above and beyond the UNFCCC, is a reality that we are challenged with on a daily basis \u2013 but these clampdowns will not stop a resilient and innovative climate movement.\u201d\n\nThe proposed regulations for the climate talks come as the Polish government\u2019s ruling right-wing populist Law and Justice party have been strongly criticised by the European Commission for breaching the EU\u2019s democratic values.\n\nSince the party came into power in 2015, it has embarked on a series of reforms of the judiciary, the civil service, state media and other areas of public life, which have been widely denounced by human rights campaigners.\n\nThe new laws include an expansion of police and secret services surveillance powers, making it easier to access electronic and digital data, and a crackdown on freedom of assembly.\n\nEnvironmental campaigners have also recently found themselves in an open conflict with the Polish government over the logging of the ancient Unesco-listed forest Bia\u0142owie\u017ca, located on Poland\u2019s eastern border with Belarus.\n\nThe government said it gave permission for the logging to go ahead because of damage caused by a spruce bark beetle infestation and to fight the risk of forest fires. But the claims have been denounced as a cover for commercial activities by activists.\n\nGreenpeace activists staged numerous protests and previously chained themselves to the woodcutting equipment to stop the logging. The government\u2019s draft bill restricting rights during the next climate talks has been seen by some campaigners as another step to stifle environmental activists in Poland.\n\nKatarzyna Guzek, from Greenpeace Poland, told DeSmog UK the draft bill was \u201cyet another step towards a process of limiting possibilities of civil society to manifest their opinion\u201d.\n\n\u201cIt is a part of a bigger trend of making life of NGO\u2018s as well as citizens harder when it comes to demonstrating their disagreement with the government,\u201d she said.\n\nSpokesman for the UNFCCC Nick Nuttall said in a statement that since the 9/11 attack, \u201cit has been practice of UN Climate Change (UNFCCC) to share some information on participants when requested by governments hosting climate conferences\u201d.\n\nHe added the UN \u201ctrust\u201d the information is used \u201cfor the purposes for which it is shared\u201d, which Nuttall said was \u201cthe timely processing of visa applications\u201d.\n\nThe UNFCCC admitted that the online registration portal for delegates is \u201cout of date\u201d, adding: \u201cWe will be updating it to reflect that some data is shared with host governments.\u201d\n\nWhile declining to comment on Poland\u2019s legal move, Nuttall said the UNFCCC \u201csupports the right of peaceful protests and demonstrations whithin and outside conferences\u201d. He also said the UN recognised that host governments \u201cmay need to make security and public safety judgements outside the official UN zones\u201d.\n\nThis article was produced by DeSmog UK and updated on 25/01 with the UNFCCC statement"}
import fs from "fs";

const file_names = async () => {
  const files = await fs.promises.readdir("../parsed_data/articles_json/");
  const texts = [];
  files.forEach((file) => {
    texts.push(file);
  });
  return texts;
};

const add_to_single_file = async () => {
  const files = await file_names();
  for (let i = 0; i < files.length; i++) {
    const json_file_name = files[i];
    const file = await fs.promises.readFile(
      "./articles_json/" + json_file_name,
      "utf-8"
    );

    fs.appendFile("doody.json", file+",", (err) => {
      if (err) {
        console.log(err);
      } else {
        // Get the file contents after the append operation
      }
    });
  }
};
add_to_single_file();
